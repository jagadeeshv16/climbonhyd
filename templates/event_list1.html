<div id="con">
{% for item in eventsdata %}   
  <div class="row events_list justify-content-center" >
    <div class="col-sm-offset-1 col-sm-10 col-sm-offset-1">
    <div class="col-sm-12" >
      <div class=" card ">
        <div class="card-header">{{item.name}}</div>
        <div class="card-body" ><h3>{{item.event_datetime}}<br><span>{{item.status}}</span></h3>{{item.description|truncatewords:20|striptags}}</div>
                    <div class="row">
                      {%for i in item.get_photos %}
                      <div class="model{{forloop.counter}}{{page_obj.number}}">
                         <div class="col-lg-3 col-md-4 col-xs-6 thumb">
                          <a class="thumbnail custom-thumbnail" href="#" data-image-id="" data-toggle="modal" data-title="" data-image="{{i.highres_link}}" data-target="#image-gallery">
                           <img class="img-thumbnail" src="{{i.thumb_link}}" alt="Another alt text">
                          </a>
                        </div>
                        </div>
                      {%endfor%}
                    </div>
                  
        <div class="card-footer"><a href="https://www.meetup.com/Theclimbon/events/{{item.created_id}}">....ViewMore</a></div>
        </div>
    </div>
  </div>
  </div>
  </div>

  {% endfor %}



<center><div class="loader"></div></center>
{% if page_obj.has_next %}
    <a class="infinite-more-link" id="load_events" href="{{ request.path }}?status={{status}}&event_name={% if event_name %}{{event_name}}{% endif %}&page={{ page_obj.next_page_number }}"></a>
{% endif %}


{% block extra_js %}
<script >
  
  $(document).ready(function(){
    $(".thumbnail").click(function(){
        var events_url = $(".thumbnail").attr('data-target');
        console.log(events_url);
    });
});
 var events_url = $(".thumbnail").attr('data-target');
 console.log(events_url);

</script>


<!--<script type="text/javascript">



let modalId = $('#image-gallery');

$(document).ready(function () {
  loadGallery(true, 'a.thumbnail');
  setInterval(function() {
    loadGallery(true, 'a.thumbnail');
  }, 2000);


     //This function disables buttons when needed
 function disableButtons(counter_max, counter_current) {
   $('#show-previous-image, #show-next-image').show();
   if (counter_max === counter_current) {
     $('#show-next-image').hide();
   } else if (counter_current === 1) {
     $('#show-previous-image').hide();
   }
 }

     /**
      *
      * @param setIDs        Sets IDs when DOM is loaded. If using a PHP counter, set to false.
      * @param setClickAttr  Sets the attribute for the click handler.
      */

function loadGallery(setIDs, setClickAttr) {
 let current_image, selector, counter = 0;

 $('#show-next-image, #show-previous-image').click(function () {
     if ($(this).attr('id') === 'show-previous-image') {
       current_image--;
     } else {
       current_image++;
     }

     selector = $('[data-image-id="' + current_image + '"]');
     updateGallery(selector);
   });

 function updateGallery(selector) {
   let $sel = selector;
   current_image = $sel.data('image-id');
   $('#image-gallery-title').text($sel.data('title'));
   $('#image-gallery-image').attr('src', $sel.data('image'));
   disableButtons(counter, $sel.data('image-id'));
 }

 if (setIDs == true) {
   $('[data-image-id]').each(function () {
       counter++;
       $(this).attr('data-image-id', counter);
     });
 }
 $(setClickAttr).on('click', function () {
     updateGallery($(this));
   });
}
});

 // build key actions
 $(document).keydown(function (e) {
     switch (e.which) {
       case 37: // left
         if ((modalId.data('bs.modal') || {})._isShown && $('#show-previous-image').is(":visible")) {
           $('#show-previous-image').click();
         }
         break;

       case 39: // right
         if ((modalId.data('bs.modal') || {})._isShown && $('#show-next-image').is(":visible")) {
           $('#show-next-image').click();
         }
         break;

       default:
         return; // exit this handler for other keys
     }
     e.preventDefault(); // prevent the default action (scroll / move caret)
   });
</script> -->
{% endblock extra_js %}